==== 1.1.5 Entity Events

User can observe Local and/or Global Entity Events during Persist, Update or Remove events performed by Jaorm

===== 1.1.5.1 Local Entity Events

User can observe Local Entity events implementing one or more of the followings interface on Entity class:

- *PrePersist<X>*
- *PostPersist<X>*
- *PreUpdate<X>*
- *PostUpdate<X>*
- *PreRemove<X>*
- *PreDelete<X>*

[source,java]
----
@Table(name = "USER")
public class User implements PostPersist<IllegalArgumentException>, PreUpdate<IllegalArgumentException> {

    @Column(name = "USER_ID")
    @Id(autoGenerated = true)
    private BigDecimal userId;

    @Column(name = "USERNAME")
    private String username;

    @Column(name = "EMAIL")
    private String email;

    @Column(name = "NAME")
    private String name;

    @Column(name = "LAST_NAME")
    private String lastName;
----

Each interface use a custom exception parameter for user checked exception.

If an Exception is thrown, Jaorm will throw a custom EventException

===== 1.1.5.2 Global Entity Events

User can handle Global Events (Persist, Delete or Update) https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html[registering]
a custom **GlobalEventListener**

Jaorm will handle only Entity annotated with **GlobalListener**

[source,java]
----
import io.github.ulisse1996.jaorm.annotation.Column;
import io.github.ulisse1996.jaorm.annotation.GlobalListener;
import io.github.ulisse1996.jaorm.annotation.Id;
import io.github.ulisse1996.jaorm.annotation.Table;

@GlobalListener
@Table(name = "CITY")
public class GlobalEntityCity {

    @Id
    @Column(name = "CITY_ID")
    private int cityId;

    @Column(name = "CITY_NAME")
    private String name;

    public int getCityId() {
        return cityId;
    }

    public void setCityId(int cityId) {
        this.cityId = cityId;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
----

