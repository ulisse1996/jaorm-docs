---
layout: default
title: Relationships
parent: Entity Mapper
grand_parent: Core
nav_order: 4
---

# Relationships

User can define one of One To One, One To Many, Many To Many relationships between two entities using **@Relationship**
annotation on a field.

```java
import io.github.ulisse1996.jaorm.annotation.*;
import io.github.ulisse1996.jaorm.entity.Result;
import io.github.ulisse1996.jaorm.entity.ParameterConverter;
import io.github.ulisse1996.jaorm.entity.converter.BooleanIntConverter;

import java.util.List;

@Table(name = "TABLE_NAME")
@Cacheable
public class Entity {
    
    @Id(autoGenerated = true)
    @Column(name = "COLUMN_1")
    private String column1;
    
    @Column(name = "COLUMN_2")
    private int column2;

    @Column(name = "READ_CONFIRM")
    @Converter(BooleanIntConverter.class)
    private boolean aBoolean;

    @Relationship(columns = 
      @Relationship.RelationshipColumn(sourceColumn = "COLUMN_1", targetColumn = "COLUMN_REF_1")
    )
    @Cascade(CascadeType.ALL)
    private List<RefEntity> refEntities;

    @Relationship(columns = 
      @Relationship.RelationshipColumn(defaultValue="1", 
      converter=ParameterConverter.BIG_DECIMAL, targetColumn = "COLUMN_REF_1")
    )
    private Result<OptEntity> refEntities;

    @Relationship(columns = 
      @Relationship.RelationshipColumn(defaultValue="aString", targetColumn = "COLUMN_REF_1")
    )
    private AnotherEntity refEntities;

    // Getter and Setter omitted for brevity
}
```

Each **@Relationship** must contain 1..N **@RelationshipColumn**

Each **@RelationshipColumn** could contain :

- a default value , for relationship with a constant value
- a converter from ones defined in **ParameterConverter** that convert default value in a different sql type
- a source column , that match a table column defined in current entity
- a target column , that match a table column defined in relationship entity

The following table define how user must use **@RelationshipColumn**

| |**Default Value** | **Converter** | **Source Column** | **Target Column** |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| **Default Value**| | <span style="color:LimeGreen">Optional | <span style="color:blue">Not Required | <span style="color:Maroon">Required |
| **Converter**  | <span style="color:Maroon">Required | | <span style="color:blue">Not Required | <span style="color:Maroon">Required |
| **Source Column** | <span style="color:blue">Not Required | <span style="color:blue">Not Required | | <span style="color:Maroon">Required |

Supported type for **@Relationship** annotated fields are :

- **io.github.ulisse1996.jaorm.entity.Result\<T>** , for an optional One to One relationship
- **java.util.List\<T>** , for One To Many or Many-To-Many relationship
- a User defined Entity, for One to One relationship
