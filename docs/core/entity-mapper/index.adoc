=== 1.1 Entity Mapper
:toc: left

An *Entity* is a POJO representing data that can be persisted to the database

Each Entity could contain:

- 1..1 *@Table* annotation that represent database table name
- 0..1 *@Cacheable* annotation that define an Entity as cacheable
- 1..N *@Column* annotated fields that represent column in database table
- 1..N *@Id* annotated fields that represent a primary/unique key in database table
- 0..N *@TableGenerated* annotated fields that represent an autogenerated primary/unique key with a backed table
- 0..N *@CustomGenerated* annotated fields that represent an autogenerated primary/unique key with custom logic
- 0..N *@Converter* annotated fields that represent a logical conversione between a sql type and a custom/not supported type (like enum o user custom defined type)
- 0..N *@Relationship* annotated fields  that represent a logical relationship between two database tables
- 0..N *@Cascade* annotated fields that are affected by operation done on parent Entity

[source,java]
----
import io.github.ulisse1996.jaorm.annotation.*;
import io.github.ulisse1996.jaorm.entity.converter.BooleanIntConverter;

import java.util.List;

@Table(name = "TABLE_NAME")
@Cacheable
public class Entity {

    @Id(autoGenerated = true)
    @Column(name = "COLUMN_1")
    private String column1;

    @Column(name = "COLUMN_2")
    private int column2;

    @Column(name = "READ_CONFIRM")
    @Converter(BooleanIntConverter.class)
    private boolean aBoolean;

    @Relationship(columns =
      @Relationship.RelationshipColumn(sourceColumn = "COLUMN_1", targetColumn = "COLUMN_REF_1")
    )
    @Cascade(CascadeType.ALL)
    private List<RefEntity> refEntities;

    // Getter and Setter omitted for brevity
}
----

IMPORTANT: For each @Column annotated fields , user must also define a getter and a setter for that field

IMPORTANT: A standard Constructor with no args must also be provided

Entities also supports Inheritance for *@Columns* , *@Relationship* or Local/Global Events

[source,java]
----
@Data
public abstract class AbstractEntity implements PrePersist<RuntimeException> {

    @Column(name = "CREATE_DATE")
    protected Date createDate;

    @Column(name = "CREATE_USER")
    protected String creationUser;

    @Override
    public void prePersist() {
        this.createDate = new Date();
        this.creationUser = "1";
    }
}

@EqualsAndHashCode(callSuper = true)
@Table(name = "COMPOUND_ENTITY")
@Data
public class CompoundEntity extends AbstractEntity {

    @Id
    @Column(name = "COMPOUND_ID")
    private int compoundId;
}
----

include::id.adoc[]
include::column.adoc[]
include::converter.adoc[]
include::relationship.adoc[]
include::entity-event.adoc[]
include::cascade.adoc[]
include::equality-distinct.adoc[]
